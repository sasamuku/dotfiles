# LazyGitの操作方法

LazyGitは直感的なTUI（Terminal User Interface）のGitクライアントです。

## 起動方法

```bash
# コマンドラインから
lazygit

# Neovimから（このdotfilesの設定）
<Space>gg
```

---

## 基本操作

### パネル間の移動

| キー | 説明 |
|------|------|
| `1` | Status（ステータス） |
| `2` | Files（ファイル） |
| `3` | Branches（ブランチ） |
| `4` | Commits（コミット） |
| `5` | Stash（スタッシュ） |
| `Tab` | 次のパネルへ |
| `Shift+Tab` | 前のパネルへ |
| `[` / `]` | 前/次のタブ |

### 一般的な操作

| キー | 説明 |
|------|------|
| `?` | ヘルプを表示 |
| `q` | 終了 / パネルを閉じる |
| `Esc` | キャンセル |
| `Enter` | 選択 / 確認 |
| `/` | 検索 |
| `n` / `N` | 次/前の検索結果 |

---

## Filesパネル（ファイル操作）

### ステージング

| キー | 説明 |
|------|------|
| `Space` | ステージ / アンステージ（トグル） |
| `a` | すべてのファイルをステージ/アンステージ |
| `d` | 変更を破棄（確認あり） |
| `e` | ファイルを編集 |
| `o` | ファイルを開く |
| `Enter` | ファイルの差分を表示 |

### コミット

| キー | 説明 |
|------|------|
| `c` | コミット |
| `Shift+C` | Git commit コマンドを実行 |
| `Shift+A` | 最後のコミットを修正（amend） |

---

## Branchesパネル（ブランチ操作）

| キー | 説明 |
|------|------|
| `Space` | チェックアウト |
| `n` | 新しいブランチを作成 |
| `o` | プルリクエストを作成 |
| `Shift+O` | プルリクエスト作成オプション |
| `r` | ブランチをリベース |
| `Shift+M` | ブランチをマージ |
| `d` | ブランチを削除 |
| `Shift+D` | ブランチを強制削除 |
| `f` | Fast-forward（早送りマージ） |
| `Enter` | ブランチのコミット履歴を表示 |

---

## Commitsパネル（コミット履歴）

| キー | 説明 |
|------|------|
| `Enter` | コミットの詳細を表示 |
| `c` | コミットをチェリーピック |
| `Shift+C` | コミットをコピー（cherry-pick range） |
| `v` | コミットをペースト |
| `r` | コミットメッセージを変更（reword） |
| `e` | コミットを編集 |
| `d` | コミットを削除 |
| `p` | コミットをpick（rebase中） |
| `f` | コミットをfixup |
| `s` | コミットをsquash |
| `Shift+R` | リベース |
| `Shift+A` | タグを作成 |
| `t` | コミットを元に戻す（revert） |
| `Ctrl+o` | コミットのURLをコピー |

---

## Stashパネル（スタッシュ操作）

| キー | 説明 |
|------|------|
| `Space` | スタッシュを適用 |
| `g` | スタッシュをpop（適用して削除） |
| `d` | スタッシュを削除 |
| `n` | 新しいスタッシュを作成 |
| `r` | スタッシュの名前を変更 |

---

## リモート操作

| キー | 説明 |
|------|------|
| `p` | Push |
| `Shift+P` | Pull |
| `f` | Fetch |
| `Shift+F` | Force push（注意！） |

**注意**: Force pushは危険な操作です。共有ブランチでは使用しないでください。

---

## 差分表示（Diffパネル）

| キー | 説明 |
|------|------|
| `↑` / `↓` | スクロール |
| `Page Up` / `Page Down` | ページ単位でスクロール |
| `/` | 検索 |
| `n` / `N` | 次/前の検索結果 |

---

## 便利な機能

### コンフリクト解決

1. Filesパネルでコンフリクトファイルを選択
2. `Enter` で差分を表示
3. `Space` で各変更を選択（ours/theirs/both）
4. `e` でエディタを開いて手動編集

### インタラクティブリベース

1. Commitsパネルでベースコミットを選択
2. `e` で編集開始
3. `p` (pick)、`s` (squash)、`f` (fixup) などでコミットを操作
4. `Enter` で確定

### Undo機能

| キー | 説明 |
|------|------|
| `z` | Undo（直前の操作を取り消し） |
| `Ctrl+z` | Redo |

---

## 設定ファイル

LazyGitの設定は `~/.config/lazygit/config.yml` に保存されます。

```yaml
# 例: カスタム設定
git:
  paging:
    colorArg: always
    pager: delta --dark --paging=never
gui:
  theme:
    activeBorderColor:
      - green
      - bold
```

---

## 💡 Tips

1. **`?` を押してヘルプを確認**: 各パネルで使える全コマンドが表示されます
2. **タブ補完**: ブランチ名やコミットハッシュの入力時に `Tab` で補完可能
3. **マウス操作**: マウスクリックでもパネルの選択やファイルのステージングが可能
4. **カスタムコマンド**: `x` でカスタムGitコマンドを実行可能

---

## 参考リンク

- [LazyGit 公式ドキュメント](https://github.com/jesseduffield/lazygit)
- [LazyGit キーバインド一覧](https://github.com/jesseduffield/lazygit/blob/master/docs/keybindings/Keybindings_en.md)
